/******************************************************************************
 *
 *   FILE
 *   ----
 *   test.c
 *
 *   History
 *   -------
 *   2018-04-04   File created
 *
 *******************************************************************************
 *
 *   This file is generated by the 'acplt_builder' command
 *
 ******************************************************************************/

#ifndef OV_COMPILE_LIBRARY_CTree
#define OV_COMPILE_LIBRARY_CTree
#endif

#include "CTree.h"
#include "libov/ov_macros.h"

OV_DLLFNCEXPORT void CTree_test_startup(OV_INSTPTR_ov_object pobj) {
	/*
	 *   local variables
	 */
	OV_INSTPTR_CTree_test pinst = Ov_StaticPtrCast(CTree_test, pobj);

	/* do what the base class does first */
	ov_object_startup(pobj);

	/* do what */
	OV_UINT size = 0;
	/*
	 * boolvec
	 */
	size = 5;
	Ov_SetDynamicVectorLength(&pinst->v_varBoolVec, size, BOOL);
	pinst->v_varBoolVec.value[0] = 0;
	pinst->v_varBoolVec.value[1] = 1;
	pinst->v_varBoolVec.value[2] = 2;
	pinst->v_varBoolVec.value[3] = 3;

	/*
	 * int vec
	 */
	Ov_SetDynamicVectorLength(&pinst->v_varIntVec, size, INT);
	pinst->v_varIntVec.value[0] = 0;
	pinst->v_varIntVec.value[1] = 1;
	pinst->v_varIntVec.value[2] = -1;
	pinst->v_varIntVec.value[3] = OV_VL_MAXINT;
	pinst->v_varIntVec.value[4] = 1;//OV_VL_MININT fixme

	Ov_SetDynamicVectorLength(&pinst->v_varUintVec, size, UINT);
	pinst->v_varUintVec.value[0] = 0;
	pinst->v_varUintVec.value[1] = 1;
	pinst->v_varUintVec.value[2] = -1;
	pinst->v_varUintVec.value[3] = OV_VL_MAXUINT;
	pinst->v_varUintVec.value[4] = 1.1;

	Ov_SetDynamicVectorLength(&pinst->v_varSingleVec, size, SINGLE);
	pinst->v_varSingleVec.value[0] = 0;
	pinst->v_varSingleVec.value[1] = -1;
	pinst->v_varSingleVec.value[2] = -1.1;
	pinst->v_varSingleVec.value[3] = 10;
	pinst->v_varSingleVec.value[4] = 1;//OV_VL_MININT fixme

	Ov_SetDynamicVectorLength(&pinst->v_varDoubleVec, size, DOUBLE);
	pinst->v_varDoubleVec.value[0] = 0;
	pinst->v_varDoubleVec.value[1] = -1;
	pinst->v_varDoubleVec.value[2] = -1.1;
	pinst->v_varDoubleVec.value[3] = 10;
	pinst->v_varDoubleVec.value[4] = 1;//OV_VL_MININT fixme

	Ov_SetDynamicVectorLength(&pinst->v_varStringVec, size, STRING);
//	pinst->v_varDoubleVec.value[0] = NULL;
//	pinst->v_varDoubleVec.value[1] = NULL;
//	pinst->v_varDoubleVec.value[2] = NULL;
//	pinst->v_varDoubleVec.value[3] = NULL;
//	pinst->v_varDoubleVec.value[4] = NULL;
	ov_string_setvalue(&pinst->v_varStringVec.value[0], "");
	ov_string_setvalue(&pinst->v_varStringVec.value[1], "test");
	ov_string_setvalue(&pinst->v_varStringVec.value[2], "00000000000000000000000000000000000000");
	ov_string_setvalue(&pinst->v_varStringVec.value[3], NULL);

	Ov_SetDynamicVectorLength(&pinst->v_varTimeVec, size, TIME);
	pinst->v_varTimeVec.value[0].secs = 1;
	pinst->v_varTimeVec.value[0].usecs= 1;
//	pinst->v_varTimeVec.value[1] = {1,1};
//	pinst->v_varTimeVec.value[2] = {1,1};
//	pinst->v_varTimeVec.value[3] = {1,1};
//	pinst->v_varTimeVec.value[4] = {1,1};
	Ov_SetDynamicVectorLength(&pinst->v_varTimeSpanVec, size, TIME_SPAN);
	pinst->v_varTimeSpanVec.value[0].secs = 1;
	pinst->v_varTimeSpanVec.value[0].usecs= 1;
	return;
}

OV_DLLFNCEXPORT void CTree_test_shutdown(OV_INSTPTR_ov_object pobj) {
	/*
	 *   local variables
	 */
	OV_INSTPTR_CTree_test pinst = Ov_StaticPtrCast(CTree_test, pobj);

	/* do what */

	/* set the object's state to "shut down" */
	ov_object_shutdown(pobj);
	ov_free(&pinst->v_varBoolVec);
	ov_free(&pinst->v_varIntVec);
	ov_free(&pinst->v_varUintVec);
	ov_free(&pinst->v_varSingleVec);
	ov_free(&pinst->v_varDoubleVec);
	ov_free(&pinst->v_varStringVec);
	ov_free(&pinst->v_varTimeVec);
	ov_free(&pinst->v_varTimeSpanVec);
	return;
}

OV_DLLFNCEXPORT OV_ACCESS CTree_test_getaccess(OV_INSTPTR_ov_object pobj,
		const OV_ELEMENT *pelem, const OV_TICKET *pticket) {
	/*
	 *   local variables
	 */
	OV_INSTPTR_CTree_test pinst = Ov_StaticPtrCast(CTree_test, pobj);

	return OV_AC_READWRITE;
	return (OV_ACCESS) 0;
}

